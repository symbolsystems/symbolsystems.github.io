<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Statements within function should not be nested deeper than 4 levels [METRICS-40]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Statements within function should not be nested deeper than 4 levels [METRICS-40-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

This rule detects when the function at least 5 nesting levels. As the nesting
level is detected the block surrounded by curly braces {}.

See also: METRICS-23



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v7.3



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

This rule helps you to improve the readability and maintainability of the code.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

int f1( int x ) {
/* level-0 */      if (x &gt; 0) {                       /* OK */
/* level-1 */          if (x &gt; 1) {                   /* OK */
/* level-2 */              if (x &gt; 2) {               /* OK */
/* level-3 */                  if (x &gt; 3) {           /* OK */
/* level-4 */                      if (x &gt; 4) {       /* Violation */
/* level-5 */                          if (x &gt; 5) {   /* OK - Violation above */
/* level-6 */                              return x;
                                       }
                                   }
                               }
                           }
                       }
                   }
}

int f2(int i)
{
    if(i == 1)
        return i;
    else if(i == 2)
        return i;
    else if(i == 3)
        return i;
    else if(i == 4)
        return i;
    else if(i == 5) // OK - rule does not detect blocks without explicit braces
        return i;
}

#define MACRO(x) { { { { { return x; } } } } }
int f3(int i)
{
    // Code from macros might produce violations
    MACRO(i);  // Violation
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

Do not nest statements more than 4 levels.



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. HIS Source Code Metriken, version 1.3.1
   Metrik "LEVEL"

</PRE>
</BODY>
</HTML>
