<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
A function parameter should not be modified [MISRAC2012-RULE_17_8-a]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
A function parameter should not be modified [MISRAC2012-RULE_17_8-a-4]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"A function parameter behaves in the same manner as an object that has automatic
storage duration. While the C language permits parameters to be modified, such
use can be confusing and conflict with programmer expectations. It may be less
confusing to copy the parameter to an automatic object and modify that copy.
With a modern compiler, this will not usually result in any storage or execution
time penalty." [MISRA C:2012 Rule 17.8]

The rule reports a violation if the parameter is modified inside function.



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v9.5



</PRE>
<STRONG>
NOTES
</STRONG>
<PRE>

The rule is enabled only for C language.



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

"Programmers who are unfamiliar with C, but who are used to other languages,
may modify a parameter believing that the effects of the modification will
be felt in the calling function." [MISRA C:2012 Rule 17.8]



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

void foo1 ( int i ) {
  i++;                    /* Violation - parameter 'i' is modified */
}

void foo2 ( int i ) {
  i += 10;                /* Violation - parameter 'i' is modified */
}

void foo3 ( int* i ) {
  for ( ; i &lt; 10; i++ ) { /* Violation - parameter 'i' is modified */
    /* ... */
  }
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

void foo1 ( int i ) {             /* OK */
  int a = i;
  a++;
}

void foo2 ( int i ) {             /* OK */
  int a = i;
  a += 10;
}

void foo3 ( int* i ) {
  for ( ; *i &lt; 10; ( *i )++ ) {   /* OK */
    /* ... */
  }
}

/* Address of a parameter could be taken and used to modify the parameter.
 * Such cases are not supported - no violation will be reported */
void takesPtr ( int* ptr );
void foo4 ( int i )               /* OK */
{
  int * ptr = &amp;i;
  *ptr = 0;
  takesPtr ( &amp;i );
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. MISRA C:2012 Guidelines for the use of the C language in critical systems
   Section 8: Rules, Rule 17.8

</PRE>
</BODY>
</HTML>
