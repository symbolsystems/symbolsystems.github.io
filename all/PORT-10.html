<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Do not initialize a long int with int literals [PORT-10]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Do not initialize a long int with int literals [PORT-10-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"Do not assume that int and long have the same size."
An int literal is 32 bits in length. Assignment of int literal 
to long data value could lead to garbage in the upper 32 bits,
or truncation if the int literal takes up more than 32 bits.
See also: PORT-05, PORT-06, PORT-07, PORT-08, PORT-11, PORT-12



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Rule prevents loss of data.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

void foo(){
    long lVal = 1;  // Violation
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

void foo(){
    long lVal = 1L; // OK
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. [Ellemtel 92] "Programming in C++: Rules and Recommendations"
   Ellemtel Telecommunication Systems Laboratories, Sweden.
   From: 18 Portable Code - 18.2 Sizes of Types - Port. Rec. 2

</PRE>
</BODY>
</HTML>
