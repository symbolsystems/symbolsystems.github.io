<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Comparison operators shall be non-member functions [AUTOSAR-A13_5_5-a]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Comparison operators shall be non-member functions [AUTOSAR-A13_5_5-a-2]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"Any asymmetric behavior for comparison functions can be confusing. In order to
achieve fully symmetric treatment, comparison functions need to be defined as
non-member functions, as the implicit object parameter of a member function
does not allow user-defined conversions to be applied." [AUTOSAR A13-5-5]

This rule detects comparison operators that are declared as member functions.

The rule checks the following operators: '==', '!=', '&lt;', '&lt;=', '&gt;', and '&gt;='.

See also: CODSTA-CPP-107_b



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

2021.2



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

This rule helps you improve code readability and comply with coding standards.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

class C
{
private:
  int m;
public:
  bool operator ==( C const &amp; rhs ) const                        // Violation
  {
    return m == rhs.m;
  }
};



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

class C
{
private:
  int m;
public:
  friend bool operator ==(C const &amp; lhs, C const &amp; rhs ) noexcept  // OK
  {
    return lhs.m == rhs.m;
  }
};



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. AUTOSAR C++14 Coding Guidelines
   A13-5-5. Comparison operators shall be non-member functions with identical
   parameter types and noexcept

</PRE>
</BODY>
</HTML>
