<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
The names of standard library functions shall not be overridden [CODSTA-93]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
The names of standard library functions shall not be overridden [CODSTA-93-5]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"Where the developer uses new versions of standard library functions
(e.g. to enhance functionality or add checks of input values), the modified
function shall have a new name. However, it is permissible to overload
the name to add new parameter types if the functionality is consistent
with those of the original. This ensures that the behaviour associated
with the name remains consistent. So, for example, if a new version of the sqrt
function is written to check that the input is not negative, the new function
shall not be named "sqrt", but shall be given a new name. It is permissible
to add a new sqrt function for a type not present in the library."
Rule checks if the following reserved names are used:
- function names from C standard library headers: assert.h,
  complex.h, ctype.h, errno.h, float.h, iso646.h, limits.h, locale.h, math.h,
  setjmp.h, signal.h, stdarg.h, stddef.h, stdio.h, stdlib.h, string.h, time.h,
  wchar.h, wctype.h, stdint.h, inttypes.h, fenv.h, stdbool.h, tgmath.h
- function names that begin with the underscore character
See also: NAMING-33, MISRA2004-20_2, CODSTA-92



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Rule prevents undefined behaviour.



</PRE>
<STRONG>
DRAWBACKS
</STRONG>
<PRE>

It is not possible in static analysis to check if the functionality is consistent
with those of the original. So, rule reports violations on all declared functions
which names are reserved. The user should himself check if the modified function
has the same functionality and could overload a function from standard library. 
Rule also does not have exception that permits overloading functions with 
types not present in the standard library.


</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

int printf ( int a, int b )        // Violation
{
    return ( ( a &gt; b ) ? a : b );
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

int my_printf ( int a, int b )     // OK
{
    return ( ( a &gt; b ) ? a : b );
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. AUTOSAR C++14 Coding Guidelines
   M17-0-3. The names of standard library functions shall not be overridden

2. General Principles of Software Validation;
   Final Guidance for Industry and FDA Staff
   Document issued on: January 11, 2002

3. MISRA C++:2008 Guidelines for the use of the C++ language in critical
   systems, Chapter 6, Section 17, Rule 17-0-3

</PRE>
</BODY>
</HTML>
