<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Ensure that a derived class has at most one base class which is not an interface class [OOP-07_c]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Ensure that a derived class has at most one base class which is not an interface class [OOP-07_c-1]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"Inheriting from two or more base classes that are not interfaces, is rarely
correct. It also exposes the derived class to multiple implementations, with
the risk that subsequent changes to any of the base classes may invalidate
the derived class." [High Integrity C++ Coding Standard]

This rule detects when a class inherits from more than one class that is not
an interface.

See also: OOP-03, OOP-04, OOP-05, OOP-06, OOP-07, OOP-07_a, OOP-07_b



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

2023.1



</PRE>
<STRONG>
NOTES
</STRONG>
<PRE>

The rule assumes that the interface is a class that meets the following
conditions:
- all its public functions (except for destructors) are pure virtual functions
  or getters (methods with names beginning with the get/Get prefix followed by
  an underscore or an uppercase letter),
- it does not contain public or protected data members,
- it contains at most one private data member of integral or enumerated type,
- it does not inherit from classes that are not interfaces,
- it does not have any nested types.



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

This rule helps you to improve the maintainability of the code.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

class NonInterface1 {
public:
  void foo1( );
};

class NonInterface2 {
public:
  NonInterface2() {}
  void foo2( );
};

class NonInterface3 {
public:
  int mbr;
};

class NonInterface4 {
private:
  int mbr1;
  int mbr2;
};

class D1: public NonInterface1, public NonInterface2 {      // Violation
};

class D2: public NonInterface3, public NonInterface4 {      // Violation
};



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

class NonInterface1 {
public:
  void foo1( );
};

class Interface2 {
public:
  Interface2() =default;
  virtual void foo2( ) = 0;
};

class NonInterface3 {
public:
  int mbr;
};

class Interface4 {
private:
  int mbr;
};

class D1: public NonInterface1, public Interface2 {         // OK
};

class D2: public NonInterface3, public Interface4 {         // OK
};



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. High Integrity C++ Coding Standard
   10.3.1. Ensure that a derived class has at most one base class which is not
   an interface class

</PRE>
</BODY>
</HTML>
