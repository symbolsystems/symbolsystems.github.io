<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Fixed width integer types from &lt;cstdint&gt;, indicating the size and signedness, shall be used in place of the basic numerical types [CODSTA-223]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Fixed width integer types from &lt;cstdint&gt;, indicating the size and signedness, shall be used in place of the basic numerical types [CODSTA-223-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"The basic numerical types of char, int, short, long are not supposed to be
used, specific-length types from &lt;cstdint&gt; header need be used instead."
[AUTOSAR A3-9-1]

The basic numerical types should not be used directly, because their storage
size is machine-dependent.

This rule detects when the basic numerical types 'char' (explicitly declared
as 'unsigned' or 'signed'), 'short', 'int', 'long', and 'long long' are used
in the code.

See also: MISRA2004-6_3, MISRA2004-6_3_b, MISRA-013, CODSTA-155



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

2021.1



</PRE>
<STRONG>
NOTES
</STRONG>
<PRE>

This rule does not report on the plain 'char' type. It does not have
the corresponding type in the &lt;cstdint&gt; header. This type is detected
in a separate rule CODSTA-223_b.



</PRE>
<STRONG>
EXCEPTIONS
</STRONG>
<PRE>

The rule allows the use of basic numeric types as the return type
of the 'main' function and as the types of its parameters.



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

This rule helps you avoid using integer types whose storage size is unclear.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

static unsigned char uc;            // Violation
typedef int myint;                  // Violation

short int foo(                      // Violation
        short* v_short,             // Violation
        long&amp; r_long)               // Violation
{
    unsigned u;                     // Violation
    const int z = 1;                // Violation
    return 1;
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

// You can fix the code by replacing the basic numerical types with
// the specific-length types from &lt;cstdint&gt;.

#include &lt;cstdint&gt;

static std::uint8_t b;              // OK
typedef std::int32_t myint;         // OK

std::int16_t foo(                   // OK
        std::int16_t* v_short,      // OK
        std::int64_t&amp; r_long)       // OK
{
    std::uint32_t u;                // OK
    const std::int32_t z = 1;       // OK
    return 1;
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. AUTOSAR C++14 Coding Guidelines
   A3-9-1. Fixed width integer types from &lt;cstdint&gt;, indicating the size and
   signedness, shall be used in place of the basic numerical types

</PRE>
</BODY>
</HTML>
