<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Identifiers declared in a class scope should not hide identifiers declared in a global or namespace scope [CODSTA-CPP-84]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Identifiers declared in a class scope should not hide identifiers declared in a global or namespace scope [CODSTA-CPP-84-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"If an identifier is declared in an inner scope and it uses the same name
as an identifier that already exists in an outer scope, then the innermost
declaration will "hide" the outer one. This may lead to developer confusion."

The rule reports a violation if an identifier declared in a class scope hides
an identifier declared in a global or namespace scope.

See also: CODSTA-CPP-83, CODSTA-CPP-85, MISRA2004-5_2_a, MISRA2004-5_2_b



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v9.4



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Hiding names of identifiers can lead to errors and confusions.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

int var;
void foo();

class A {
public:
    int var;    // Violation
    void foo(); // Violation

    void use(){
        this-&gt;var = var; // assigning a variable to itself
        foo();           // call of member function
    }
};

namespace N {
    int nvar;
    void nfoo();
}

using namespace N;

class B {
    int nvar;    // Violation
    void nfoo(); // Violation

    void use(){
        nvar = 100; // member variable modified
        nfoo();     // call of member function
    }
};



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

int var;
void foo();

class A {
public:
    int m_var;    // OK - the name of member variable was changed
    void m_foo(); // OK - the name of member function was changed

    void use(){
        this-&gt;m_var = var; // assigning global variable to member
        foo();             // call of global function
    }
};

namespace N {
    int nvar;
    void nfoo();
}

class B {
    // identifier from namespace needs to use a scope operator
    int nvar;    // OK
    void nfoo(); // OK

    void use(){
        N::nvar = 100; // namespace variable modified
        nfoo();        // call of member function
    }
};



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. AUTOSAR C++14 Coding Guidelines
   A2-10-1. An identifier declared in an inner scope shall not hide an
   identifier declared in an outer scope

2. High Integrity C++ Coding Standard
   3.1.1. Do not hide declarations

3. JOINT STRIKE FIGHTER, AIR VEHICLE, C++ CODING STANDARDS
   Chapter 4.15 Declarations and Definitions, AV Rule 135

4. MISRA C++:2023 Guidelines for the use of C++17 in critical systems
   Rule 6.4.1 A variable declared in an inner scope shall not hide a variable declared in an outer scope

</PRE>
</BODY>
</HTML>
