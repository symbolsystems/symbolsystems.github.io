<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Report the value of Halstead's delivered bugs (B) for a function [METRICS-43]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Report the value of Halstead's delivered bugs (B) for a function [METRICS-43-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

The rule reports the value of Halstead's delivered bugs (B) metrics
for a function. The metric is an estimate for the number of errors in
the implementation.

The metric is defined in following way:
    B = V / 3000

where:
    Function Volume V  =  N * log2(n)
    N - the number of all operators and operands within function
    n - the number of distinct operators and operands within function



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v10



</PRE>
<STRONG>
NOTES
</STRONG>
<PRE>

1. This rule is enabled for C only - nothing will be reported on C++ files.

2. The value of this metric is highly correlated to the size of a function.

3. Tokens recognized as operators:
- operators:
  =, +=, -=, *=, /=, %=, |=, &amp;=, ^=, &lt;&lt;=, &gt;&gt;=, +, -, *, /, %, |, &amp;, ^,
  &lt;&lt;, &gt;&gt;, ~, !, ||, &amp;&amp;, ++, --, &lt;, &lt;=, !=, ==, &gt;, &gt;=, -&gt;, ?:, &lt;%, &lt;:,
  (), [], {}, ,(comma), ;(semicolon), .(dot) , ...(ellipsis)
- keywords:
  asm, auto, break, case, const, continue, default, do, else, enum, extern,
  for, goto, if, inline, register, restrict, return, sizeof, static, struct,
  switch, typedef, union, volatile, while

4. Tokens recognized as operands:
- all identifiers which are not keywords
- type specifiers: void, char, short, int, long, float, double, signed, unsigned
- constants: numbers and strings 



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

High values of Halstead's delivered bugs (B) metrics indicate possibility of 
high number of bugs.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

/* Example function */
int foo(int i){  /* Violation: B = 0.09 */
    int a;
    int b;

    a = i + (2 * (i + 1)) + (3 * (i + 2));
    b = (i + (2 * (i + 1)) + (3 * (i + 2))) * 2;

    if(i &gt;= 3)
        return a;
    if(i &gt;= 2)
        return b;
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

Halstead, Maurice H. (1977). Elements of Software Science.
Amsterdam: Elsevier North-Holland, Inc. ISBN 0-444-00205-7

</PRE>
</BODY>
</HTML>
