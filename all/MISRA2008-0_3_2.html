<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
If a function generates error information, then that error information shall be tested [MISRA2008-0_3_2]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
If a function generates error information, then that error information shall be tested [MISRA2008-0_3_2-2]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"A function (whether it is part of the standard library, a third party library
or a user defined function) may provide some means of indicating the occurrence
of an error. This may be via an error flag, some special return value or some
other means. Whenever such a mechanism is provided by a function the calling
program shall check for the indication of an error as soon as the function 
returns.
However, note that the checking of input values to functions is considered
a more robust means of error prevention than trying to detect errors after
the function has completed (see Rule MISRA2004-20_3). Note also that the use
of errno (to return error information from functions) is clumsy and should be
used with care (see Rule MISRA2004-20_5)." [MISRA C:2004]

The rule reports a violation if a value returned from function with return type
bool, char, short, int, enum is neither used (assigned, checked) nor cast
to void type.



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

"Ignoring return values could lead to a situation in which an application
continues processing under the false assumption that the context in which
it is operating (or the item on which it is operating) is valid."
[JOINT STRIKE FIGHTER]



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

int SomeFunctionReturningError( );
void foo( )
{
    SomeFunctionReturningError( );  // Violation
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

int SomeFunctionReturningError( );
int foo( ) 
{
    int x;
    x = SomeFunctionReturningError( );        // OK
    (void)SomeFunctionReturningError( );      // OK
    if (SomeFunctionReturningError( ));       // OK
    switch (SomeFunctionReturningError( )) {  // OK
    }
    return SomeFunctionReturningError( );     // OK
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. AUTOSAR C++14 Coding Guidelines
   M0-3-2. If a function generates error information, then that error
   information shall be tested

2. <A HREF="http://cwe.mitre.org/data/definitions/391.html">http://cwe.mitre.org/data/definitions/391.html</A>

3. JOINT STRIKE FIGHTER, AIR VEHICLE, C++ CODING STANDARDS
   Chapter 4.13 Function, AV Rule 115

4. MISRA C++:2008 Guidelines for the use of the C++ language in critical
   systems, Chapter 6, Section 0, Rule 0-3-2

5. MISRA-C:2004 Guidelines for the use of the C language in critical systems
   Chapter 6, Section 16

6. Origin: Misra Guidelines - Rule 86

7. The Power of Ten - Rules for Developing Safety Critical Code.
   Rule 7

</PRE>
</BODY>
</HTML>
