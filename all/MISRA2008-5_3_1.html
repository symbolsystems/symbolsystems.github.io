<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Each operand of the ! operator, the logical &amp;&amp; or the logical || operators shall have type bool [MISRA2008-5_3_1]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Each operand of the ! operator, the logical &amp;&amp; or the logical || operators shall have type bool [MISRA2008-5_3_1-2]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"The use of operands with types other than bool with these operators is
unlikely to be meaningful (or intended). This rule allows the detection of
such uses, which often occur because the logical operators (&amp;&amp;, || and !)
can be easily confused with the bitwise operators (&amp;, | and ~)."



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v7.2



</PRE>
<STRONG>
NOTES
</STRONG>
<PRE>

Rule does not report violations if the operand is a call
to a conversion function that converts to a typedef with a name
containing 'bool' that names a pointer to member.



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Rule improves readability and maintainability.
Rule prevents confusion between logical and bitwise operators.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

/* examples of incorrect code */
void foo(int a, int b, int c, int d, int* ptr)
{
    if ( 1 &amp;&amp; ( c &lt; d ) ) {}        // Violation
    if ( ( a &lt; b ) &amp;&amp; ( c + d ) ){} // Violation
    if ( a || ( c + d ) ) {}        // Violation
    if ( !ptr ) {}                  // Violation
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

/* examples of correct code */
void foo(int a, int b, int c, int d)
{
    if ( ( a &lt; b ) &amp;&amp; ( c &lt; d ) ){}   // OK
    if ( ( a == b ) || ( c != d ) ){} // OK
    if ( !false ) {}                  // OK
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. AUTOSAR C++14 Coding Guidelines
   M5-3-1. Each operand of the ! operator, the logical &amp;&amp; or the logical ||
   operators shall have type bool

2. MISRA C++:2008 Guidelines for the use of the C++ language in critical systems
   Chapter 6, Section 5, Rule 5-3-1

</PRE>
</BODY>
</HTML>
