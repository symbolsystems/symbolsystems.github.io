<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
'strlen' function should not be used to check string against NULL/non-NULL [OPT-28]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
'strlen' function should not be used to check string against NULL/non-NULL [OPT-28-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

Rule reports a violation if strlen() is used to check strings for
NULL/non-NULL. Using the strlen() forces the processor to walk
through the whole string what is very costly. Such checks can
be performed more efficiently if only the first character of the
string is checked for NULL/non-NULL.



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v7.2



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Rule improves efficiency of code.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

#include &lt;string.h&gt;

void myFunction()
{
    const char* x = "string";
    int a = 1;
	
    if (strlen(x) == 0)        // Violation
        a++;
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

#include &lt;string.h&gt;

void myFunction()
{
    const char* x = "string";
    int a = 1;
	
    if (x[0] == 0)    // OK
        a++;
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

Recommended by ParaSoft

</PRE>
</BODY>
</HTML>
