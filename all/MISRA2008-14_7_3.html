<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
All partial and explicit specializations for a template shall be declared in the same file as the declaration of their primary template [MISRA2008-14_7_3]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
All partial and explicit specializations for a template shall be declared in the same file as the declaration of their primary template [MISRA2008-14_7_3-2]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"Partial and explicit specializations of function and class templates
should be declared with the primary template. This will ensure that
implicit specializations will only occur when there is no explicit
declaration available." [High Integrity C++]

This rule detects when a template class or function has explicit
specialization that is not declared in the same file as the primary
template.



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v7.2



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

This rule helps you prevent undefined behavior.

"It is undefined behaviour if, for a set of template-arguments, an implicit
instantiation is generated by the compiler, and a partial or explicit
specialization is declared or defined elsewhere in the program that would
match the set of template-arguments." [MISRA C++:2008]



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

// file.h

template &lt;typename T&gt; void foo () {}

// file.cpp

#include "file.h"

template &lt;&gt; void foo&lt;int&gt; () {} // Violation



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

// file.h

template &lt;typename T&gt; void foo () {}

template &lt;&gt; void foo&lt;int&gt; () {} // OK



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. General Principles of Software Validation;
   Final Guidance for Industry and FDA Staff
   Document issued on: January 11, 2002

2. High Integrity C++ Coding Standard
   14.2.1. Declare template specializations in the same file as the primary
   template they specialize.

3. JOINT STRIKE FIGHTER, AIR VEHICLE, C++ CODING STANDARDS
   Chapter 4.12 Templates, AV Rule 104

4. MISRA C++:2008 Guidelines for the use of the C++ language in critical systems
   Chapter 6, Section 14, Rule 14-7-3

</PRE>
</BODY>
</HTML>
