<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Do not use assertions [CODSTA-199]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Do not use assertions [CODSTA-199-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

"The assert macro puts diagnostic tests into programs; it expands to a void
expression. When it is executed, if expression (which shall have a scalar type)
is false (that is, compares equal to 0), the assert macro writes information
about the particular call that failed (including the text of the argument,
the name of the source file, the source line number, and the name
of the enclosing function - the latter are respectively the values
of the pre-processing macros __FILE__ and __LINE__ and of the identifier
__func__) on the standard error stream in an implementation-defined format.
It then calls the abort function." [ISO/IEC 9899:2011]

"If the intention of the programmer is to properly clean up in the case
of a failed assertion, then runtime assertions should be replaced with static
assertions where possible. When the assertion is based on runtime data,
the assert should be replaced with a runtime check that implements the adopted
error strategy." [CERT-ERR06-C]

This rule detects each use of 'assert()' in the tested code.



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v10.4



</PRE>
<STRONG>
NOTES
</STRONG>
<PRE>

The rule reports each use of 'assert()' in your code, including user-defined
functions and macros.

int assert(float a, float b);                    // Violation

int foo(float x, float y) {
   int i = assert(x, y);                         // Violation
}



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

The rule helps you prevent unexpected behavior.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

#include &lt;assert.h&gt;

void foo(int x) {
    assert(x &lt; 0);                               // Violation
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

Do not use assertions



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. SEI CERT C Coding Standard
   ERR06-C. Understand the termination behavior of assert() and abort()
   <A HREF="https://wiki.sei.cmu.edu/confluence/pages/viewpage.action?pageId=87152296">https://wiki.sei.cmu.edu/confluence/pages/viewpage.action?pageId=87152296</A>

2. 2019 CWE Weaknesses On the Cusp
   CWE-617: Reachable Assertion
   <A HREF="https://cwe.mitre.org/data/definitions/617.html">https://cwe.mitre.org/data/definitions/617.html</A>

</PRE>
</BODY>
</HTML>
