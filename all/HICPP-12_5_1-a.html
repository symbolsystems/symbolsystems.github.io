<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
Explicitly define =default or =delete special member functions of concrete classes implicitly provided by the compiler [HICPP-12_5_1-a]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
Explicitly define =default or =delete special member functions of concrete classes implicitly provided by the compiler [HICPP-12_5_1-a-3]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

The compiler may provide some or all of the following special member functions:

- Destructor
- Copy constructor
- Copy assignment operator
- Move constructor
- Move assignment operator

The specific set of functions the compiler implicitly provides depends on 1)
the special member functions you have declared, and 2) the special members of
base classes and member objects.

The versions of the functions generated by the compiler perform either a
bitwise or shallow copy. The copy semantics, however, may not be the correct
semantics for the class. It may also be unclear to clients of the class whether
or not these functions can be used.

This rule reports a violation when special member functions of concrete classes
that are implicitly provided by the compiler are not explicitly define with
=default or =delete.

This rule is limited to concrete classes; the most derived class is responsible
for ensuring that the object has the correct copy semantics for itself and for
its sub-objects.



</PRE>
<STRONG>
SINCE
</STRONG>
<PRE>

v10.4



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Provides clear guidance to users and the compiler. For example, declaring a copy
constructor prevent the compiler from emitting a move constructor unless there
is an =default move constructor declaration.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

#include &lt;cstdint&gt;
class A2 // Violation: No implicitly declared special members
{
  public:
    A2();
    ~A2();

  private:
    int32_t *m_i;
};



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

#include &lt;cstdint&gt;
class A2 // Ok: No implicitly declared special members
{
  public:
    A2();
    ~A2();
    A2(A2 const &amp;) = default;
    A2 &amp;operator=(A2 const &amp;) &amp; = delete;

  private:
    int32_t *m_i;
};



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. High Integrity C++ Coding Standard
   12.5.1. Define explicitly =default or =delete implicit special member
   functions of concrete classes

</PRE>
</BODY>
</HTML>
