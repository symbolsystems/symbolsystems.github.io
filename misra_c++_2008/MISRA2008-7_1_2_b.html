<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<LINK REL="stylesheet" HREF="book.css" TYPE="text/css">
<TITLE>
A reference parameter in a function shall be declared as reference to const if the corresponding object is not modified [MISRA2008-7_1_2_b]
</TITLE>
</HEAD>
<BODY BGCOLOR=#FFFFFF>
<STRONG>
A reference parameter in a function shall be declared as reference to const if the corresponding object is not modified [MISRA2008-7_1_2_b-2]
</STRONG>
<BR><BR>
<STRONG>
DESCRIPTION
</STRONG>
<PRE>

This rule checks if you declared your reference parameters as const references.
When your function is not going to modify the argument it is referencing, you 
should use const to protect variables from unintended modifications when the 
function returns.
See also: CODSTA-CPP-03, CODSTA-CPP-38, CODSTA-CPP-44, 
          MISRA-104, MISRA2004-16_7, OPT-21



</PRE>
<STRONG>
NOTES
</STRONG>
<PRE>

The rule does not report violations on virtual functions.

The rule does not trigger on parameters captured by reference by lambda
expressions.

This rule does not check template-dependent parameters.



</PRE>
<STRONG>
BENEFITS
</STRONG>
<PRE>

Declaring parameters which are not modified as const reference instead of 
reference improves legibility. It also prevents future revisions from 
unintentional changing the caller's data.



</PRE>
<STRONG>
EXAMPLE
</STRONG>
<PRE>

struct Foo {
    int x;
    int y;
};

int Bar( Foo &amp;f ) {  // Violation
    return f.x;
}

int FooBar( Foo &amp;f ) { // OK
    return f.x++;
}



</PRE>
<STRONG>
REPAIR
</STRONG>
<PRE>

struct Foo {
    int x;
    int y;
};

int Bar( const Foo &amp;f ) {  // OK
    return f.x;
}



</PRE>
<STRONG>
REFERENCES
</STRONG>
<PRE>

1. AUTOSAR C++14 Coding Guidelines
   A8-4-3. Common ways of passing parameters should be used

2. AUTOSAR C++14 Coding Guidelines
   A8-4-9. "in-out" parameters declared as T &amp; shall be modified

3. AUTOSAR C++14 Coding Guidelines
   M7-1-2. A pointer or reference parameter in a function shall be declared as
   pointer to const or reference to const if the corresponding object is not
   modified

4. General Principles of Software Validation;
   Final Guidance for Industry and FDA Staff
   Document issued on: January 11, 2002

5. JOINT STRIKE FIGHTER, AIR VEHICLE, C++ CODING STANDARDS
   Chapter 4.13.3 Function Parameters (Value, Pointer or Reference), AV Rule 117.1

6. MISRA C++:2008 Guidelines for the use of the C++ language in critical
   systems, Chapter 6, Section 7, Rule 7-1-2

7. MISRA C++:2023 Guidelines for the use of C++17 in critical systems
   Rule 10.1.1 The target type of a pointer or lvalue reference parameter should be const-qualified appropriately

8. Scott Meyers, "Effective C++: 55 Specific Ways to Improve
   Your Programs and Design", Third Edition, Addison-Wesley,
   (C) 2005 Pearson Education, Inc., Chapter 1, Item 3

</PRE>
</BODY>
</HTML>
